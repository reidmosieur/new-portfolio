{
    "id": "U6UO1529C1",
    "codeString": "import { useEffect, useState } from \"react\";\nimport { useGameState } from \"../../context/gameStateContext\";\nimport LetterTile from \"./letterTile\";\nimport { WordleHistory } from \"../../types/types\";\n\nconst History = () => {\n    const gameContext = useGameState();\n    const {\n        wordLength,\n        setWordLength,\n        answer,\n        setAnswer,\n        guesses,\n        setGuesses,\n        currentGuess,\n        setCurrentGuess,\n        gameResultsState,\n        setGameResultsState,\n        displayResults,\n        setDisplayResults,\n        history,\n        setHistory,\n    } = gameContext;\n\n    const [slicedHistory, setSlicedHistory] = useState<WordleHistory[]>([]);\n\n    useEffect(() => {\n        if (history && history[0].gameResultsState.isGameFinished === false && history[0].answer === answer) {\n            const sliceAfterCurrentAnswer = history.slice(1, 6);\n\n            setSlicedHistory(sliceAfterCurrentAnswer);\n        } else if (history) {\n            const normalSlice = history.slice(0, 5);\n\n            setSlicedHistory(normalSlice);\n        }\n    }, [history])\n\n    if (!history || history.length ===  0) {\n        return <p>Loading...</p>;\n    } else {\n        return (\n            <div className=\"px-8 py-4 flex flex-col flex-wrap gap-4 rounded-md bg-stone-800 text-white\">\n                <h2 className=\"text-xl font-bold\" >Worcl History</h2>\n                <table className=\"w-full\" >\n                    <tr className=\"text-center\" >\n                        <th>Word</th>\n                        <th>Your Last Guess</th>\n                        <th>Guesses</th>\n                    </tr>\n                    <tbody>\n                        {history?.slice(0, 5).map((pastWord, index) => (\n                            <tr\n                                key={`${pastWord.answer.join('')}-${index}`}\n                            >\n                                <td>\n                                    <div className=\"w-fit mx-auto px-2 my-1 flex flex-row flex-nowrap gap-2\" >\n                                        {pastWord.answer.map((_, letterIndex: number) => (\n                                            <LetterTile\n                                                answer={pastWord.answer}\n                                                index={letterIndex}\n                                            />\n                                        ))}\n                                    </div>\n                                </td>\n                                <td>\n                                    <div className=\"w-fit mx-auto px-2 flex flex-row flex-nowrap gap-2\" >\n                                        {pastWord.guesses.length >  0 ?\n                                            pastWord.answer.map((_, letterIndex: number) => (\n                                                <LetterTile\n                                                    answer={pastWord.answer}\n                                                    index={letterIndex}\n                                                    guess={pastWord.guesses[pastWord.guesses.length - 1]}\n                                                />\n                                            ))\n                                            :\n                                            <span>No guesses</span>\n                                        }\n                                    </div>\n                                </td>\n                                <td className=\"flex flex-row justify-center\" >\n                                    <span className=\"my-auto\" >{pastWord.guesses.length}</span>\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}\n\nexport default History;",
    "title": "History",
    "explanation": "",
    "file": "data/games/worcl/components/history/index.tsx",
    "toDo": [],
    "displayPath": "data/games/worcl/components/history/index.tsx"
}